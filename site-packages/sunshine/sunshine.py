#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Date       : 2015-05-22 11:31:28
# Author     : 陈小雪
# E-mail     : shell_chen@yeah.net
# Version    : 1.0.1

import os


from flask import Flask
from config import load_config


class App(object):
    def __init__(self):
        self.app = Flask(__name__)

    def init_app(self):
        self.load_config()

    def load_config(self):
        config = load_config()
        self.app.config.from_object(config)

    def load_db(self):
        from .models import db
        db.init_app(self.app)

    def load_routes(self):
        pass

    def load_lm(self):
        pass

    def load_api(self):
        pass

    def load_email(self):
        pass

    def load_error_handle(self):
        @self.app.errorhandler(403)
        def page_403(error):
            return render_template('403.html'), 403

        @self.app.errorhandler(404)
        def page_404(error):
            return render_template('404.html'), 404

        @self.app.errorhandler(500)
        def page_500(error):
            return render_template('500.html'), 500

    def load_hooks(self):
        pass



