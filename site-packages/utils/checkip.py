#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Date       : 2015-05-28 11:42:13
# Author     : 陈小雪
# E-mail     : shell_chen@yeah.net
# Version    : 1.0.1



import os
import time
import base64


class  BaseCode(object):
    time_out = 1

    def __init__(self):
        self.secrets = self.dumps(str(time.time()))

    def dumps(self, agr):
        return base64.b64encode(agr)

    def loads(self, agr):
        return base64.b64decode(agr)

    def checks(self, agrv):
        if not agrv:
            return True

        try:
            tm = self.loads(agrv)
        except:
            return False

        now = time.time()
        if now > float(tm) + self.time_out:
            return True

        return False
